2025-12-30T21:55:45.294810036Z time="2025-12-30T21:55:45Z" level=debug msg="Sync Service: initialized" func=sync.InitService file="service.go:68" component=sync-server listen=":8001"
2025-12-30T21:55:45.295011638Z time="2025-12-30T21:55:45Z" level=info msg="Started sync server at :8001" func=sync.NewServer file="server.go:30"
2025-12-30T21:55:46.296227770Z time="2025-12-30T21:55:46Z" level=info msg="The sync server of backing Image Manager listening to :8001" func=manager.NewServer file="server.go:34"
2025-12-30T21:55:46.297320131Z time="2025-12-30T21:55:46Z" level=info msg="Backing Image Manager listening to :8000" func=manager.NewServer file="server.go:55"
2025-12-30T21:55:52.217438503Z time="2025-12-30T21:55:52Z" level=info msg="Backing Image Manager: prepare to start backing image update watch" func="manager.(*Manager).Watch" file="service.go:577" component=backing-image-manager diskPath=/data/ diskUUID=e06ad177-0001-4488-b554-c0da2d4f366b
2025-12-30T21:55:52.217450968Z time="2025-12-30T21:55:52Z" level=info msg="Backing Image Manager: backing image update watch started" func="manager.(*Manager).Watch" file="service.go:592" component=backing-image-manager diskPath=/data/ diskUUID=e06ad177-0001-4488-b554-c0da2d4f366b
2025-12-30T21:56:47.553360144Z time="2025-12-30T21:56:47Z" level=info msg="Backing Image Manager: prepare to fetch backing image" func="manager.(*Manager).Fetch" file="service.go:457" biName=vmi-5987e3f0-076b-438e-82a4-f635689704b3 biUUID=c22539a2 component=backing-image-manager data_source_address="10.52.0.86:8000" diskPath=/data/ diskUUID=e06ad177-0001-4488-b554-c0da2d4f366b
2025-12-30T21:56:47.553383528Z time="2025-12-30T21:56:47Z" level=info msg="Backing Image Manager: need to transfer the file from the data source server first" func="manager.(*Manager).Fetch" file="service.go:471" biName=vmi-5987e3f0-076b-438e-82a4-f635689704b3 biUUID=c22539a2 component=backing-image-manager data_source_address="10.52.0.86:8000" diskPath=/data/ diskUUID=e06ad177-0001-4488-b554-c0da2d4f366b
2025-12-30T21:56:47.554479656Z time="2025-12-30T21:56:47Z" level=debug msg="Sync Service: initializing sync file /data/backing-images/vmi-5987e3f0-076b-438e-82a4-f635689704b3-c22539a2/backing" func="sync.(*Service).checkAndInitSyncFile" file="service.go:323" component=sync-server listen=":8001"
2025-12-30T21:56:47.554532416Z time="2025-12-30T21:56:47Z" level=info msg="Backing Image Manager: fetched or reused backing image" func="manager.(*Manager).Fetch" file="service.go:495" biName=vmi-5987e3f0-076b-438e-82a4-f635689704b3 biUUID=c22539a2 component=backing-image-manager data_source_address="10.52.0.86:8000" diskPath=/data/ diskUUID=e06ad177-0001-4488-b554-c0da2d4f366b
2025-12-30T21:56:47.554642615Z time="2025-12-30T21:56:47Z" level=info msg="SyncingFile: cannot to reuse the existing file, will clean it up then start processing: stat /data/backing-images/vmi-5987e3f0-076b-438e-82a4-f635689704b3-c22539a2/backing: no such file or directory" func=sync.NewSyncingFile.func1 file="sync_file.go:184" component=sync-file filePath=/data/backing-images/vmi-5987e3f0-076b-438e-82a4-f635689704b3-c22539a2/backing uuid=c22539a2
2025-12-30T21:56:48.554896804Z time="2025-12-30T21:56:48Z" level=info msg="SyncingFile: start to fetch sync file from /data/tmp/vmi-5987e3f0-076b-438e-82a4-f635689704b3-c22539a2" func="sync.(*SyncingFile).Fetch" file="sync_file.go:425" component=sync-file filePath=/data/backing-images/vmi-5987e3f0-076b-438e-82a4-f635689704b3-c22539a2/backing uuid=c22539a2
2025-12-30T21:56:48.554923226Z time="2025-12-30T21:56:48Z" level=debug msg="SyncingFile: need to fetch the syncing file from /data/tmp/vmi-5987e3f0-076b-438e-82a4-f635689704b3-c22539a2" func="sync.(*SyncingFile).Fetch" file="sync_file.go:460" component=sync-file filePath=/data/backing-images/vmi-5987e3f0-076b-438e-82a4-f635689704b3-c22539a2/backing uuid=c22539a2
2025-12-30T21:56:48.554982266Z time="2025-12-30T21:56:48Z" level=debug msg="SyncingFile: found the corresponding src config file /data/tmp/vmi-5987e3f0-076b-438e-82a4-f635689704b3-c22539a2.cfg" func="sync.(*SyncingFile).Fetch" file="sync_file.go:474" component=sync-file filePath=/data/backing-images/vmi-5987e3f0-076b-438e-82a4-f635689704b3-c22539a2/backing uuid=c22539a2
2025-12-30T21:56:48.555168591Z time="2025-12-30T21:56:48Z" level=debug msg="SyncingFile: directly get the checksum from the valid config during processing wrap-up: 92ea03f0c5cbdf4b39650d595bb563ea060068bc86530c184a7ed2e1e3f1a5c092ac02d709b134f68c26ed93186ddcd40ab562e6e9e7aaf9213e3e080db9498e" func="sync.(*SyncingFile).finishProcessing" file="sync_file.go:965"
2025-12-30T21:56:48.575166024Z stat.Blksize: 4096
2025-12-30T21:56:48.575169320Z time="2025-12-30T21:56:48Z" level=debug msg="SyncingFile: writing config file when the file becomes ready" func="sync.(*SyncingFile).writeConfigNoLock" file="sync_file.go:1089" component=sync-file currentChecksum=92ea03f0c5cbdf4b39650d595bb563ea060068bc86530c184a7ed2e1e3f1a5c092ac02d709b134f68c26ed93186ddcd40ab562e6e9e7aaf9213e3e080db9498e filePath=/data/backing-images/vmi-5987e3f0-076b-438e-82a4-f635689704b3-c22539a2/backing size=258342912 uuid=c22539a2
2025-12-30T21:56:48.575271874Z time="2025-12-30T21:56:48Z" level=info msg="SyncingFile: succeeded processing file" func="sync.(*SyncingFile).finishProcessing" file="sync_file.go:977" component=sync-file currentChecksum=92ea03f0c5cbdf4b39650d595bb563ea060068bc86530c184a7ed2e1e3f1a5c092ac02d709b134f68c26ed93186ddcd40ab562e6e9e7aaf9213e3e080db9498e filePath=/data/backing-images/vmi-5987e3f0-076b-438e-82a4-f635689704b3-c22539a2/backing size=258342912 uuid=c22539a2
2025-12-30T21:56:48.575279528Z time="2025-12-30T21:56:48Z" level=info msg="SyncingFile: try to clean up src file /data/tmp/vmi-5987e3f0-076b-438e-82a4-f635689704b3-c22539a2 and its config file /data/tmp/vmi-5987e3f0-076b-438e-82a4-f635689704b3-c22539a2.cfg after fetch" func="sync.(*SyncingFile).Fetch.func1" file="sync_file.go:433" component=sync-file currentChecksum=92ea03f0c5cbdf4b39650d595bb563ea060068bc86530c184a7ed2e1e3f1a5c092ac02d709b134f68c26ed93186ddcd40ab562e6e9e7aaf9213e3e080db9498e filePath=/data/backing-images/vmi-5987e3f0-076b-438e-82a4-f635689704b3-c22539a2/backing size=258342912 uuid=c22539a2
