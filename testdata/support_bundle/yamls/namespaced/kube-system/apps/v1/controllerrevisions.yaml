apiVersion: v1
items:
- apiVersion: apps/v1
  data:
    spec:
      template:
        $patch: replace
        metadata:
          labels:
            app: whereabouts
            app.kubernetes.io/instance: harvester
            app.kubernetes.io/name: whereabouts
            name: whereabouts
        spec:
          containers:
          - args:
            - -c
            - |
              SLEEP=false source /install-cni.sh
              /token-watcher.sh &
              /ip-control-loop -log-level debug
            command:
            - /bin/sh
            env:
            - name: NODENAME
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: spec.nodeName
            - name: WHEREABOUTS_NAMESPACE
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: metadata.namespace
            image: ghcr.io/k8snetworkplumbingwg/whereabouts:v0.9.2
            imagePullPolicy: IfNotPresent
            name: whereabouts
            resources:
              limits:
                cpu: 100m
                memory: 200Mi
              requests:
                cpu: 100m
                memory: 100Mi
            securityContext:
              privileged: true
            terminationMessagePath: /dev/termination-log
            terminationMessagePolicy: File
            volumeMounts:
            - mountPath: /host/opt/cni/bin
              name: cnibin
            - mountPath: /host/etc/cni/net.d
              name: cni-net-dir
            - mountPath: /cron-schedule
              name: cron-scheduler-configmap
          dnsPolicy: ClusterFirst
          hostNetwork: true
          restartPolicy: Always
          schedulerName: default-scheduler
          securityContext: {}
          serviceAccount: harvester-whereabouts
          serviceAccountName: harvester-whereabouts
          terminationGracePeriodSeconds: 30
          tolerations:
          - effect: NoSchedule
            operator: Exists
          volumes:
          - hostPath:
              path: /opt/cni/bin
              type: "null"
            name: cnibin
          - hostPath:
              path: /etc/cni/net.d
              type: "null"
            name: cni-net-dir
          - configMap:
              defaultMode: 484
              items:
              - key: cron-expression
                path: config
              name: whereabouts-config
            name: cron-scheduler-configmap
  kind: ControllerRevision
  metadata:
    annotations:
      deprecated.daemonset.template.generation: "1"
      meta.helm.sh/release-name: harvester
      meta.helm.sh/release-namespace: harvester-system
      objectset.rio.cattle.io/id: default-mcc-harvester-cattle-fleet-local-system
    creationTimestamp: "2025-12-30T21:49:31Z"
    labels:
      app: whereabouts
      app.kubernetes.io/instance: harvester
      app.kubernetes.io/name: whereabouts
      controller-revision-hash: 558d99c66d
      name: whereabouts
    managedFields:
    - apiVersion: apps/v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data: {}
        f:metadata:
          f:annotations:
            .: {}
            f:deprecated.daemonset.template.generation: {}
            f:meta.helm.sh/release-name: {}
            f:meta.helm.sh/release-namespace: {}
            f:objectset.rio.cattle.io/id: {}
          f:labels:
            .: {}
            f:app: {}
            f:app.kubernetes.io/instance: {}
            f:app.kubernetes.io/name: {}
            f:controller-revision-hash: {}
            f:name: {}
          f:ownerReferences:
            .: {}
            k:{"uid":"8b5d4e9d-6197-4b90-8f39-c7c2b3638e58"}: {}
        f:revision: {}
      manager: kube-controller-manager
      operation: Update
      time: "2025-12-30T21:49:31Z"
    name: harvester-whereabouts-558d99c66d
    namespace: kube-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: DaemonSet
      name: harvester-whereabouts
      uid: 8b5d4e9d-6197-4b90-8f39-c7c2b3638e58
    resourceVersion: "3835"
    uid: 830c8f91-1767-4ef0-a944-643e75b22a7e
  revision: 1
- apiVersion: apps/v1
  data:
    spec:
      template:
        $patch: replace
        metadata:
          labels:
            k8s-app: canal
        spec:
          containers:
          - command:
            - start_runit
            env:
            - name: DATASTORE_TYPE
              value: kubernetes
            - name: USE_POD_CIDR
              value: "true"
            - name: WAIT_FOR_DATASTORE
              value: "true"
            - name: NODENAME
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: spec.nodeName
            - name: CALICO_CNI_SERVICE_ACCOUNT
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: spec.serviceAccountName
            - name: CALICO_NETWORKING_BACKEND
              value: none
            - name: CLUSTER_TYPE
              value: k8s,canal
            - name: FELIX_IPTABLESREFRESHINTERVAL
              value: "60"
            - name: FELIX_NFTABLESREFRESHINTERVAL
              value: "60"
            - name: FELIX_IPTABLESBACKEND
              value: auto
            - name: CALICO_DISABLE_FILE_LOGGING
              value: "true"
            - name: FELIX_DEFAULTENDPOINTTOHOSTACTION
              value: ACCEPT
            - name: FELIX_IPV6SUPPORT
              value: "false"
            - name: FELIX_LOGSEVERITYSCREEN
              value: info
            - name: FELIX_HEALTHENABLED
              value: "true"
            - name: FELIX_PROMETHEUSMETRICSENABLED
              value: "true"
            - name: FELIX_XDPENABLED
              value: "false"
            - name: FELIX_FAILSAFEINBOUNDHOSTPORTS
            - name: FELIX_FAILSAFEOUTBOUNDHOSTPORTS
            - name: FELIX_IPTABLESMARKMASK
              value: "0xffff0000"
            - name: FELIX_NFTABLESMARKMASK
              value: "0xffff0000"
            - name: IP_AUTODETECTION_METHOD
              value: first-found
            - name: FELIX_FEATUREDETECTOVERRIDE
            image: rancher/hardened-calico:v3.30.3-build20251015
            imagePullPolicy: IfNotPresent
            lifecycle:
              preStop:
                exec:
                  command:
                  - /usr/bin/calico-node
                  - -shutdown
            livenessProbe:
              exec:
                command:
                - /usr/bin/calico-node
                - -felix-live
              failureThreshold: 6
              initialDelaySeconds: 10
              periodSeconds: 10
              successThreshold: 1
              timeoutSeconds: 10
            name: calico-node
            readinessProbe:
              failureThreshold: 3
              httpGet:
                host: localhost
                path: /readiness
                port: 9099
                scheme: HTTP
              periodSeconds: 10
              successThreshold: 1
              timeoutSeconds: 10
            resources:
              requests:
                cpu: 250m
            securityContext:
              privileged: true
            terminationMessagePath: /dev/termination-log
            terminationMessagePolicy: File
            volumeMounts:
            - mountPath: /host/etc/cni/net.d
              name: cni-net-dir
            - mountPath: /lib/modules
              name: lib-modules
              readOnly: true
            - mountPath: /run/xtables.lock
              name: xtables-lock
            - mountPath: /var/run/calico
              name: var-run-calico
            - mountPath: /var/lib/calico
              name: var-lib-calico
            - mountPath: /var/run/nodeagent
              name: policysync
            - mountPath: /var/log/calico/cni
              name: cni-log-dir
              readOnly: true
          - command:
            - /opt/bin/flanneld
            - --ip-masq
            - --kube-subnet-mgr
            - --iptables-forward-rules=false
            - --ip-blackhole-route
            env:
            - name: POD_NAME
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: metadata.name
            - name: POD_NAMESPACE
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: metadata.namespace
            - name: FLANNELD_IFACE
              valueFrom:
                configMapKeyRef:
                  key: canal_iface
                  name: rke2-canal-config
            - name: FLANNELD_IFACE_REGEX
              valueFrom:
                configMapKeyRef:
                  key: canal_iface_regex
                  name: rke2-canal-config
            - name: FLANNELD_IP_MASQ
              valueFrom:
                configMapKeyRef:
                  key: masquerade
                  name: rke2-canal-config
            image: rancher/hardened-flannel:v0.27.4-build20251015
            imagePullPolicy: IfNotPresent
            name: kube-flannel
            resources: {}
            securityContext:
              privileged: true
            terminationMessagePath: /dev/termination-log
            terminationMessagePolicy: File
            volumeMounts:
            - mountPath: /run/xtables.lock
              name: xtables-lock
            - mountPath: /etc/kube-flannel/
              name: flannel-cfg
          dnsPolicy: ClusterFirst
          hostNetwork: true
          initContainers:
          - command:
            - /opt/cni/bin/install
            env:
            - name: CALICO_CNI_SERVICE_ACCOUNT
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: spec.serviceAccountName
            - name: CNI_CONF_NAME
              value: 10-canal.conflist
            - name: CNI_NETWORK_CONFIG
              valueFrom:
                configMapKeyRef:
                  key: cni_network_config
                  name: rke2-canal-config
            - name: KUBERNETES_NODE_NAME
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: spec.nodeName
            - name: CNI_MTU
              valueFrom:
                configMapKeyRef:
                  key: veth_mtu
                  name: rke2-canal-config
            - name: SLEEP
              value: "false"
            image: rancher/hardened-calico:v3.30.3-build20251015
            imagePullPolicy: IfNotPresent
            name: install-cni
            resources: {}
            securityContext:
              privileged: true
            terminationMessagePath: /dev/termination-log
            terminationMessagePolicy: File
            volumeMounts:
            - mountPath: /host/opt/cni/bin
              name: cni-bin-dir
            - mountPath: /host/etc/cni/net.d
              name: cni-net-dir
          - command:
            - /usr/local/bin/flexvol.sh
            - -s
            - /usr/local/bin/flexvol
            - -i
            - flexvoldriver
            image: rancher/hardened-calico:v3.30.3-build20251015
            imagePullPolicy: IfNotPresent
            name: flexvol-driver
            resources: {}
            securityContext:
              privileged: true
            terminationMessagePath: /dev/termination-log
            terminationMessagePolicy: File
            volumeMounts:
            - mountPath: /host/driver
              name: flexvol-driver-host
          nodeSelector:
            kubernetes.io/os: linux
          priorityClassName: system-node-critical
          restartPolicy: Always
          schedulerName: default-scheduler
          securityContext: {}
          serviceAccount: canal
          serviceAccountName: canal
          terminationGracePeriodSeconds: 0
          tolerations:
          - effect: NoSchedule
            operator: Exists
          - key: CriticalAddonsOnly
            operator: Exists
          - effect: NoExecute
            operator: Exists
          volumes:
          - hostPath:
              path: /lib/modules
              type: "null"
            name: lib-modules
          - hostPath:
              path: /var/run/calico
              type: "null"
            name: var-run-calico
          - hostPath:
              path: /var/lib/calico
              type: "null"
            name: var-lib-calico
          - hostPath:
              path: /run/xtables.lock
              type: FileOrCreate
            name: xtables-lock
          - configMap:
              defaultMode: 420
              name: rke2-canal-config
            name: flannel-cfg
          - hostPath:
              path: /opt/cni/bin
              type: "null"
            name: cni-bin-dir
          - hostPath:
              path: /etc/cni/net.d
              type: "null"
            name: cni-net-dir
          - hostPath:
              path: /var/log/calico/cni
              type: "null"
            name: cni-log-dir
          - hostPath:
              path: /var/run/nodeagent
              type: DirectoryOrCreate
            name: policysync
          - hostPath:
              path: /var/lib/kubelet/volumeplugins/nodeagent~uds
              type: DirectoryOrCreate
            name: flexvol-driver-host
  kind: ControllerRevision
  metadata:
    annotations:
      deprecated.daemonset.template.generation: "1"
      meta.helm.sh/release-name: rke2-canal
      meta.helm.sh/release-namespace: kube-system
    creationTimestamp: "2025-12-30T21:46:54Z"
    labels:
      controller-revision-hash: 8445656b4c
      k8s-app: canal
    managedFields:
    - apiVersion: apps/v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data: {}
        f:metadata:
          f:annotations:
            .: {}
            f:deprecated.daemonset.template.generation: {}
            f:meta.helm.sh/release-name: {}
            f:meta.helm.sh/release-namespace: {}
          f:labels:
            .: {}
            f:controller-revision-hash: {}
            f:k8s-app: {}
          f:ownerReferences:
            .: {}
            k:{"uid":"addfaf76-8730-4239-945a-f5e6fa237962"}: {}
        f:revision: {}
      manager: kube-controller-manager
      operation: Update
      time: "2025-12-30T21:46:54Z"
    name: rke2-canal-8445656b4c
    namespace: kube-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: DaemonSet
      name: rke2-canal
      uid: addfaf76-8730-4239-945a-f5e6fa237962
    resourceVersion: "683"
    uid: 30e9ea35-7381-4575-b2af-7846e758ef9b
  revision: 1
- apiVersion: apps/v1
  data:
    spec:
      template:
        $patch: replace
        metadata:
          labels:
            app.kubernetes.io/component: controller
            app.kubernetes.io/instance: rke2-ingress-nginx
            app.kubernetes.io/managed-by: Helm
            app.kubernetes.io/name: rke2-ingress-nginx
            app.kubernetes.io/part-of: rke2-ingress-nginx
            app.kubernetes.io/version: 1.13.4
            helm.sh/chart: rke2-ingress-nginx-4.13.400
        spec:
          automountServiceAccountToken: true
          containers:
          - args:
            - /nginx-ingress-controller
            - --election-id=rke2-ingress-nginx-leader
            - --controller-class=k8s.io/ingress-nginx
            - --ingress-class=nginx
            - --configmap=$(POD_NAMESPACE)/rke2-ingress-nginx-controller
            - --validating-webhook=:8444
            - --validating-webhook-certificate=/usr/local/certificates/cert
            - --validating-webhook-key=/usr/local/certificates/key
            - --watch-ingress-without-class=true
            - --default-ssl-certificate=cattle-system/tls-rancher-internal
            env:
            - name: POD_NAME
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: metadata.name
            - name: POD_NAMESPACE
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: metadata.namespace
            - name: LD_PRELOAD
              value: /usr/local/lib/libmimalloc.so
            image: rancher/nginx-ingress-controller:v1.13.4-hardened1
            imagePullPolicy: IfNotPresent
            lifecycle:
              preStop:
                exec:
                  command:
                  - /wait-shutdown
            livenessProbe:
              failureThreshold: 5
              httpGet:
                path: /healthz
                port: 10254
                scheme: HTTP
              initialDelaySeconds: 10
              periodSeconds: 10
              successThreshold: 1
              timeoutSeconds: 1
            name: rke2-ingress-nginx-controller
            ports:
            - containerPort: 80
              hostPort: 80
              name: http
              protocol: TCP
            - containerPort: 443
              hostPort: 443
              name: https
              protocol: TCP
            - containerPort: 8444
              name: webhook
              protocol: TCP
            readinessProbe:
              failureThreshold: 3
              httpGet:
                path: /healthz
                port: 10254
                scheme: HTTP
              initialDelaySeconds: 10
              periodSeconds: 10
              successThreshold: 1
              timeoutSeconds: 1
            resources:
              requests:
                cpu: 100m
                memory: 90Mi
            securityContext:
              allowPrivilegeEscalation: false
              capabilities:
                add:
                - NET_BIND_SERVICE
                drop:
                - ALL
              readOnlyRootFilesystem: false
              runAsGroup: 82
              runAsNonRoot: true
              runAsUser: 101
              seccompProfile:
                type: RuntimeDefault
            terminationMessagePath: /dev/termination-log
            terminationMessagePolicy: File
            volumeMounts:
            - mountPath: /usr/local/certificates/
              name: webhook-cert
              readOnly: true
          dnsPolicy: ClusterFirstWithHostNet
          nodeSelector:
            kubernetes.io/os: linux
          restartPolicy: Always
          schedulerName: default-scheduler
          securityContext: {}
          serviceAccount: rke2-ingress-nginx
          serviceAccountName: rke2-ingress-nginx
          terminationGracePeriodSeconds: 300
          volumes:
          - name: webhook-cert
            secret:
              defaultMode: 420
              secretName: rke2-ingress-nginx-admission
  kind: ControllerRevision
  metadata:
    annotations:
      deprecated.daemonset.template.generation: "2"
      meta.helm.sh/release-name: rke2-ingress-nginx
      meta.helm.sh/release-namespace: kube-system
    creationTimestamp: "2025-12-30T21:48:48Z"
    labels:
      app.kubernetes.io/component: controller
      app.kubernetes.io/instance: rke2-ingress-nginx
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: rke2-ingress-nginx
      app.kubernetes.io/part-of: rke2-ingress-nginx
      app.kubernetes.io/version: 1.13.4
      controller-revision-hash: 5c78947d45
      helm.sh/chart: rke2-ingress-nginx-4.13.400
    managedFields:
    - apiVersion: apps/v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data: {}
        f:metadata:
          f:annotations:
            .: {}
            f:deprecated.daemonset.template.generation: {}
            f:meta.helm.sh/release-name: {}
            f:meta.helm.sh/release-namespace: {}
          f:labels:
            .: {}
            f:app.kubernetes.io/component: {}
            f:app.kubernetes.io/instance: {}
            f:app.kubernetes.io/managed-by: {}
            f:app.kubernetes.io/name: {}
            f:app.kubernetes.io/part-of: {}
            f:app.kubernetes.io/version: {}
            f:controller-revision-hash: {}
            f:helm.sh/chart: {}
          f:ownerReferences:
            .: {}
            k:{"uid":"d81b7835-408a-487f-8a99-5217352a50aa"}: {}
        f:revision: {}
      manager: kube-controller-manager
      operation: Update
      time: "2025-12-30T21:48:48Z"
    name: rke2-ingress-nginx-controller-5c78947d45
    namespace: kube-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: DaemonSet
      name: rke2-ingress-nginx-controller
      uid: d81b7835-408a-487f-8a99-5217352a50aa
    resourceVersion: "2906"
    uid: d8fc549a-7db1-4576-8686-25b02da9d0a2
  revision: 2
- apiVersion: apps/v1
  data:
    spec:
      template:
        $patch: replace
        metadata:
          annotations:
            harvesterhci.io/timestamp: "2025-12-30T21:50:35Z"
          labels:
            app.kubernetes.io/component: controller
            app.kubernetes.io/instance: rke2-ingress-nginx
            app.kubernetes.io/managed-by: Helm
            app.kubernetes.io/name: rke2-ingress-nginx
            app.kubernetes.io/part-of: rke2-ingress-nginx
            app.kubernetes.io/version: 1.13.4
            helm.sh/chart: rke2-ingress-nginx-4.13.400
        spec:
          automountServiceAccountToken: true
          containers:
          - args:
            - /nginx-ingress-controller
            - --election-id=rke2-ingress-nginx-leader
            - --controller-class=k8s.io/ingress-nginx
            - --ingress-class=nginx
            - --configmap=$(POD_NAMESPACE)/rke2-ingress-nginx-controller
            - --validating-webhook=:8444
            - --validating-webhook-certificate=/usr/local/certificates/cert
            - --validating-webhook-key=/usr/local/certificates/key
            - --watch-ingress-without-class=true
            - --default-ssl-certificate=cattle-system/tls-rancher-internal
            env:
            - name: POD_NAME
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: metadata.name
            - name: POD_NAMESPACE
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: metadata.namespace
            - name: LD_PRELOAD
              value: /usr/local/lib/libmimalloc.so
            image: rancher/nginx-ingress-controller:v1.13.4-hardened1
            imagePullPolicy: IfNotPresent
            lifecycle:
              preStop:
                exec:
                  command:
                  - /wait-shutdown
            livenessProbe:
              failureThreshold: 5
              httpGet:
                path: /healthz
                port: 10254
                scheme: HTTP
              initialDelaySeconds: 10
              periodSeconds: 10
              successThreshold: 1
              timeoutSeconds: 1
            name: rke2-ingress-nginx-controller
            ports:
            - containerPort: 80
              hostPort: 80
              name: http
              protocol: TCP
            - containerPort: 443
              hostPort: 443
              name: https
              protocol: TCP
            - containerPort: 8444
              name: webhook
              protocol: TCP
            readinessProbe:
              failureThreshold: 3
              httpGet:
                path: /healthz
                port: 10254
                scheme: HTTP
              initialDelaySeconds: 10
              periodSeconds: 10
              successThreshold: 1
              timeoutSeconds: 1
            resources:
              requests:
                cpu: 100m
                memory: 90Mi
            securityContext:
              allowPrivilegeEscalation: false
              capabilities:
                add:
                - NET_BIND_SERVICE
                drop:
                - ALL
              readOnlyRootFilesystem: false
              runAsGroup: 82
              runAsNonRoot: true
              runAsUser: 101
              seccompProfile:
                type: RuntimeDefault
            terminationMessagePath: /dev/termination-log
            terminationMessagePolicy: File
            volumeMounts:
            - mountPath: /usr/local/certificates/
              name: webhook-cert
              readOnly: true
          dnsPolicy: ClusterFirstWithHostNet
          nodeSelector:
            kubernetes.io/os: linux
          restartPolicy: Always
          schedulerName: default-scheduler
          securityContext: {}
          serviceAccount: rke2-ingress-nginx
          serviceAccountName: rke2-ingress-nginx
          terminationGracePeriodSeconds: 300
          volumes:
          - name: webhook-cert
            secret:
              defaultMode: 420
              secretName: rke2-ingress-nginx-admission
  kind: ControllerRevision
  metadata:
    annotations:
      deprecated.daemonset.template.generation: "3"
      meta.helm.sh/release-name: rke2-ingress-nginx
      meta.helm.sh/release-namespace: kube-system
    creationTimestamp: "2025-12-30T21:50:35Z"
    labels:
      app.kubernetes.io/component: controller
      app.kubernetes.io/instance: rke2-ingress-nginx
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: rke2-ingress-nginx
      app.kubernetes.io/part-of: rke2-ingress-nginx
      app.kubernetes.io/version: 1.13.4
      controller-revision-hash: 66bb6c75b4
      helm.sh/chart: rke2-ingress-nginx-4.13.400
    managedFields:
    - apiVersion: apps/v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data: {}
        f:metadata:
          f:annotations:
            .: {}
            f:deprecated.daemonset.template.generation: {}
            f:meta.helm.sh/release-name: {}
            f:meta.helm.sh/release-namespace: {}
          f:labels:
            .: {}
            f:app.kubernetes.io/component: {}
            f:app.kubernetes.io/instance: {}
            f:app.kubernetes.io/managed-by: {}
            f:app.kubernetes.io/name: {}
            f:app.kubernetes.io/part-of: {}
            f:app.kubernetes.io/version: {}
            f:controller-revision-hash: {}
            f:helm.sh/chart: {}
          f:ownerReferences:
            .: {}
            k:{"uid":"d81b7835-408a-487f-8a99-5217352a50aa"}: {}
        f:revision: {}
      manager: kube-controller-manager
      operation: Update
      time: "2025-12-30T21:50:35Z"
    name: rke2-ingress-nginx-controller-66bb6c75b4
    namespace: kube-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: DaemonSet
      name: rke2-ingress-nginx-controller
      uid: d81b7835-408a-487f-8a99-5217352a50aa
    resourceVersion: "6299"
    uid: c1635186-1ef6-40b4-bc61-4549ab8c7425
  revision: 3
- apiVersion: apps/v1
  data:
    spec:
      template:
        $patch: replace
        metadata:
          labels:
            app.kubernetes.io/component: controller
            app.kubernetes.io/instance: rke2-ingress-nginx
            app.kubernetes.io/managed-by: Helm
            app.kubernetes.io/name: rke2-ingress-nginx
            app.kubernetes.io/part-of: rke2-ingress-nginx
            app.kubernetes.io/version: 1.13.4
            helm.sh/chart: rke2-ingress-nginx-4.13.400
        spec:
          automountServiceAccountToken: true
          containers:
          - args:
            - /nginx-ingress-controller
            - --election-id=rke2-ingress-nginx-leader
            - --controller-class=k8s.io/ingress-nginx
            - --ingress-class=nginx
            - --configmap=$(POD_NAMESPACE)/rke2-ingress-nginx-controller
            - --validating-webhook=:8443
            - --validating-webhook-certificate=/usr/local/certificates/cert
            - --validating-webhook-key=/usr/local/certificates/key
            - --watch-ingress-without-class=true
            env:
            - name: POD_NAME
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: metadata.name
            - name: POD_NAMESPACE
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: metadata.namespace
            - name: LD_PRELOAD
              value: /usr/local/lib/libmimalloc.so
            image: rancher/nginx-ingress-controller:v1.13.4-hardened1
            imagePullPolicy: IfNotPresent
            lifecycle:
              preStop:
                exec:
                  command:
                  - /wait-shutdown
            livenessProbe:
              failureThreshold: 5
              httpGet:
                path: /healthz
                port: 10254
                scheme: HTTP
              initialDelaySeconds: 10
              periodSeconds: 10
              successThreshold: 1
              timeoutSeconds: 1
            name: rke2-ingress-nginx-controller
            ports:
            - containerPort: 80
              hostPort: 80
              name: http
              protocol: TCP
            - containerPort: 443
              hostPort: 443
              name: https
              protocol: TCP
            - containerPort: 8443
              name: webhook
              protocol: TCP
            readinessProbe:
              failureThreshold: 3
              httpGet:
                path: /healthz
                port: 10254
                scheme: HTTP
              initialDelaySeconds: 10
              periodSeconds: 10
              successThreshold: 1
              timeoutSeconds: 1
            resources:
              requests:
                cpu: 100m
                memory: 90Mi
            securityContext:
              allowPrivilegeEscalation: false
              capabilities:
                add:
                - NET_BIND_SERVICE
                drop:
                - ALL
              readOnlyRootFilesystem: false
              runAsGroup: 82
              runAsNonRoot: true
              runAsUser: 101
              seccompProfile:
                type: RuntimeDefault
            terminationMessagePath: /dev/termination-log
            terminationMessagePolicy: File
            volumeMounts:
            - mountPath: /usr/local/certificates/
              name: webhook-cert
              readOnly: true
          dnsPolicy: ClusterFirstWithHostNet
          nodeSelector:
            kubernetes.io/os: linux
          restartPolicy: Always
          schedulerName: default-scheduler
          securityContext: {}
          serviceAccount: rke2-ingress-nginx
          serviceAccountName: rke2-ingress-nginx
          terminationGracePeriodSeconds: 300
          volumes:
          - name: webhook-cert
            secret:
              defaultMode: 420
              secretName: rke2-ingress-nginx-admission
  kind: ControllerRevision
  metadata:
    annotations:
      deprecated.daemonset.template.generation: "1"
      meta.helm.sh/release-name: rke2-ingress-nginx
      meta.helm.sh/release-namespace: kube-system
    creationTimestamp: "2025-12-30T21:47:14Z"
    labels:
      app.kubernetes.io/component: controller
      app.kubernetes.io/instance: rke2-ingress-nginx
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: rke2-ingress-nginx
      app.kubernetes.io/part-of: rke2-ingress-nginx
      app.kubernetes.io/version: 1.13.4
      controller-revision-hash: 74b576b6c7
      helm.sh/chart: rke2-ingress-nginx-4.13.400
    managedFields:
    - apiVersion: apps/v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data: {}
        f:metadata:
          f:annotations:
            .: {}
            f:deprecated.daemonset.template.generation: {}
            f:meta.helm.sh/release-name: {}
            f:meta.helm.sh/release-namespace: {}
          f:labels:
            .: {}
            f:app.kubernetes.io/component: {}
            f:app.kubernetes.io/instance: {}
            f:app.kubernetes.io/managed-by: {}
            f:app.kubernetes.io/name: {}
            f:app.kubernetes.io/part-of: {}
            f:app.kubernetes.io/version: {}
            f:controller-revision-hash: {}
            f:helm.sh/chart: {}
          f:ownerReferences:
            .: {}
            k:{"uid":"d81b7835-408a-487f-8a99-5217352a50aa"}: {}
        f:revision: {}
      manager: kube-controller-manager
      operation: Update
      time: "2025-12-30T21:47:14Z"
    name: rke2-ingress-nginx-controller-74b576b6c7
    namespace: kube-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: DaemonSet
      name: rke2-ingress-nginx-controller
      uid: d81b7835-408a-487f-8a99-5217352a50aa
    resourceVersion: "1030"
    uid: 1e6f12d6-4ee0-46c2-92a8-010fbe16249d
  revision: 1
- apiVersion: apps/v1
  data:
    spec:
      template:
        $patch: replace
        metadata:
          annotations:
            checksum/config: b53fcdb801cb9610f0b5f64bedc7ab9a8124dc42e0ff49982453580bc1f50cb1
          labels:
            app: rke2-multus
            tier: node
        spec:
          containers:
          - args:
            - --multus-conf-file=auto
            - --cni-conf-dir=/host/etc/cni/net.d
            - --cni-bin-dir=/host/opt/cni/bin
            - --multus-autoconfig-dir=/host/etc/cni/net.d
            - --multus-kubeconfig-file-host=/etc/cni/net.d/multus.d/multus.kubeconfig
            command:
            - /thin_entrypoint
            env:
            - name: KUBERNETES_NODE_NAME
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: spec.nodeName
            image: rancher/hardened-multus-cni:v4.2.3-build20251031
            imagePullPolicy: IfNotPresent
            name: kube-rke2-multus
            resources: {}
            securityContext:
              privileged: true
            terminationMessagePath: /dev/termination-log
            terminationMessagePolicy: File
            volumeMounts:
            - mountPath: /host/etc/cni/net.d
              name: cni
            - mountPath: /host/opt/cni/bin
              name: cnibin
            - mountPath: /tmp/multus-conf/00-multus.conf
              name: multus-cfg
              subPath: cni-conf.json
          dnsPolicy: ClusterFirst
          hostNetwork: true
          initContainers:
          - env:
            - name: SKIP_CNI_BINARIES
              value: flannel
            image: rancher/hardened-cni-plugins:v1.8.0-build20251014
            imagePullPolicy: IfNotPresent
            name: cni-plugins
            resources: {}
            securityContext:
              privileged: true
            terminationMessagePath: /dev/termination-log
            terminationMessagePolicy: File
            volumeMounts:
            - mountPath: /host/opt/cni/bin
              name: cnibin
          nodeSelector:
            kubernetes.io/os: linux
          priorityClassName: system-node-critical
          restartPolicy: Always
          schedulerName: default-scheduler
          securityContext: {}
          serviceAccount: multus
          serviceAccountName: multus
          terminationGracePeriodSeconds: 30
          tolerations:
          - effect: NoSchedule
            operator: Exists
          - effect: NoExecute
            operator: Exists
          volumes:
          - hostPath:
              path: /etc/cni/net.d
              type: "null"
            name: cni
          - hostPath:
              path: /opt/cni/bin
              type: "null"
            name: cnibin
          - configMap:
              defaultMode: 420
              name: rke2-multus-v4.2.300-config
            name: multus-cfg
  kind: ControllerRevision
  metadata:
    annotations:
      deprecated.daemonset.template.generation: "1"
      meta.helm.sh/release-name: rke2-multus
      meta.helm.sh/release-namespace: kube-system
    creationTimestamp: "2025-12-30T21:46:53Z"
    labels:
      app: rke2-multus
      controller-revision-hash: 7bd77d985b
      tier: node
    managedFields:
    - apiVersion: apps/v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data: {}
        f:metadata:
          f:annotations:
            .: {}
            f:deprecated.daemonset.template.generation: {}
            f:meta.helm.sh/release-name: {}
            f:meta.helm.sh/release-namespace: {}
          f:labels:
            .: {}
            f:app: {}
            f:controller-revision-hash: {}
            f:tier: {}
          f:ownerReferences:
            .: {}
            k:{"uid":"e3a908e3-3929-4a06-9ee6-42c95a952a56"}: {}
        f:revision: {}
      manager: kube-controller-manager
      operation: Update
      time: "2025-12-30T21:46:53Z"
    name: rke2-multus-7bd77d985b
    namespace: kube-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: DaemonSet
      name: rke2-multus
      uid: e3a908e3-3929-4a06-9ee6-42c95a952a56
    resourceVersion: "587"
    uid: 7ba50cfa-681e-4d16-b50c-f407d42b913e
  revision: 1
kind: List
metadata:
  resourceVersion: "14473"
